<?php if ($this->zfcUserIdentity()) { ?>
    <script type="text/javascript">
        $(document).ready(function() {
            var i = 1;

            $(".addmore").click(function() {

                $('<ul id="ques_' + i + '"><li class="white-custom-tooltip"><label>Uplaod File & Marks</label><a style="position:absolute; right:2px; top:2px;" href="javascript:void(0)" onclick="deleteques(' + i + ');"><img src="<?php echo $this->cdn(); ?>/images/website/close_button_hover.png" height="12px" alt="Delete Question" title="Delete Question" border="0" /></a><input type="file" name="ques[' + i + '][file]" id="qFile_' + i + '" value="" onchange="checkFileExtension(this.value, this.id)" >&nbsp;&nbsp;<input style="width:50px;" type="number" min="0" name="ques[' + i + '][marks]" id="qMarks_' + i + '" value="" onfocus="deleteTotMarks(this.value);" onblur="validateMarks(this.value, this.id);" /><br><span style="display:none; margin-left:150px; color:#D01F3C;" id="qFile_' + i + '_error">Only jpeg, jpg, png, gif, pdf, txt, doc, ods, docx formats are allowed</span>&nbsp;&nbsp;<span style="display:none; margin-left:412px; color:#D01F3C;" id="qMarks_' + i + '_error">Marks should be numeric</span></li></ul>').appendTo($("#self"));
                i++;
            });

            //custom validation for type number
            var number = document.querySelector('input[type="number"]');
            number.oninvalid = function(e) {
                e.target.setCustomValidity("");
                if (!e.target.validity.valid) {
                    e.target.setCustomValidity("Marks should be numeric");
                }
            };

        });


        function deleteques(id) {
            $("#ques_" + id).remove();
        }

    </script>
    <div class="self-container">
        <input type="hidden" name="papersource" id="papersource" value="upload" />
        <div class="sub-heading">
            <div class="text18 left">Upload Question</div>
            <div class="pull-right"><a href="javascript:void(0)" class="addmore"><img src="<?php echo $this->cdn() . '/images/website/scrll_add_icon2.png' ?>" alt="Add Question" title="Add Question" border="0" /></a></div>


            <div style="clear:both;"></div>
        </div>
        <div id="self">

            <ul class="create_paper_ul" id=ques_1>
                <li>
                    <label>Upload File & Marks:</label>
                    <a style="position:absolute; right:2px; top:2px;" href="javascript:void(0)" onclick="deleteques(1);"><img src="<?php echo $this->cdn(); ?>/images/website/close_button_hover.png" height="12px" alt="Delete Question" title="Delete Question" border="0" /></a>
                    <input type="file" name="ques[0][file]" id="qFile_0" value="" onchange="checkFileExtension(this.value, this.id)" style="display:inline-block;" /> &nbsp;&nbsp;
                    <input type="number" name="ques[0][marks]"  min="1" id="qMarks_0" value="" style="width:50px;" style="display:inline-block;" onfocus="deleteTotMarks(this.value);" onblur="validateMarks(this.value, this.id);" required/>
                    <br /> 
                    <span style="display:none; margin-left:150px; color:#D01F3C;" id="qFile_0_error">Only jpeg, jpg, png, gif, pdf, txt, doc, ods, docx formats are allowed</span>&nbsp;&nbsp;<span style="display:none; margin-left:409px; color:#D01F3C;" id="qMarks_0_error">Marks should be numeric</span>
                </li>

            </ul>

        </div>

        <div style="clear:both;"></div>
    </div>



    </div>

    </div>
    </div>
<?php } else { ?>
    <script>
        window.location = "<? echo $this->url('home');?>"
    </script>
<?php } ?>